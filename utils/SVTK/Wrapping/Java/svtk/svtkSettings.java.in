package svtk;

import java.util.Properties;
import java.util.StringTokenizer;

public class svtkSettings
{
  private static String GetSVTKBuildLibDir() { return "@CMAKE_LIBRARY_OUTPUT_DIRECTORY@"; }
  private static String GetSVTKInstallLibDir() { return "@CMAKE_INSTALL_PREFIX@/@SVTK_INSTALL_LIB_DIR@"; }

  private static String[] Split(String str, String sep)
    {
    StringTokenizer st = new StringTokenizer(str, sep);
    int size = st.countTokens();
    String[] res = new String[size];
    int cnt = 0;
    while (st.hasMoreTokens())
      {
      res[cnt] = st.nextToken();
      cnt ++;
      }
    return res;
    }

  public static String GetSVTKLibraryDir()
    {
    String lpath = null;
    Properties p = System.getProperties();
    String path_separator = p.getProperty("path.separator");
    String s = p.getProperty("java.class.path");
    String[] paths = svtkSettings.Split(s, path_separator);
    int cc;
    for ( cc = 0; cc < paths.length; cc ++ )
      {
      if ( paths[cc].endsWith("svtk.jar") )
        {
        lpath = paths[cc].substring(0, paths[cc].length()-"svtk.jar".length());
        lpath = lpath + "@jnilib_relative_path@";
        }
      }
    if ( lpath == null )
      {
      lpath = svtkSettings.GetSVTKInstallLibDir();
      }
    return lpath;
    }

  public static String[] GetKits()
    {
    return svtkSettings.Split("@svtk_java_wrapped_module_libraries@", ";");
    }
}
